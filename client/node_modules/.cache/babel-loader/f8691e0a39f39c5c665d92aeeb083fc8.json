{"ast":null,"code":"import { GET_COMMENTS, COMMENT_ERROR, ADD_COMMENT, DELETE_COMMENT } from '../types';\nimport axios from 'axios';\nimport { setAlert } from '../alert/alert.actions';\nexport const getComments = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/posts/comments/${id}`);\n    dispatch({\n      type: GET_COMMENTS,\n      payload: res.data.data\n    });\n  } catch (err) {\n    dispatch({\n      type: COMMENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Add COMMENT\n\nexport const addComment = (postId, formData) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    const res = await axios.post(`/api/posts/comments/${postId}`, formData, config);\n    dispatch({\n      type: ADD_COMMENT,\n      payload: res.data.data\n    });\n    dispatch(setAlert(res.data.message, 'success'));\n    dispatch(getComments(postId));\n  } catch (err) {\n    dispatch(setAlert(err.response.data.message, 'danger'));\n    dispatch({\n      type: COMMENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Delete Comment\n\nexport const deleteComment = CommentId => async dispatch => {\n  try {\n    const res = await axios.delete(`/api/posts/comments/${CommentId}`);\n    dispatch({\n      type: DELETE_COMMENT,\n      payload: CommentId\n    });\n    dispatch(setAlert(res.data.message, 'success'));\n  } catch (err) {\n    dispatch(setAlert(err.response.data.message, 'danger'));\n    dispatch({\n      type: COMMENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/home/apple/my-projects/Stack-Overflow-Clone/client/src/redux/comments/comments.actions.js"],"names":["GET_COMMENTS","COMMENT_ERROR","ADD_COMMENT","DELETE_COMMENT","axios","setAlert","getComments","id","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","addComment","postId","formData","config","headers","post","message","deleteComment","CommentId","delete"],"mappings":"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","sourcesContent":["import {\n    GET_COMMENTS,\n    COMMENT_ERROR,\n    ADD_COMMENT,\n    DELETE_COMMENT\n} from '../types';\n\nimport axios from 'axios';\nimport {setAlert} from '../alert/alert.actions';\n\nexport const getComments = id => async dispatch => {\n    try {\n        const res = await axios.get(`/api/posts/comments/${id}`);\n\n        dispatch({\n            type: GET_COMMENTS,\n            payload: res.data.data\n        });\n    } catch (err) {\n        dispatch({\n            type: COMMENT_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Add COMMENT\nexport const addComment = (postId,formData) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    try {\n        const res = await axios.post(`/api/posts/comments/${postId}`, formData, config);\n\n        dispatch({\n            type: ADD_COMMENT,\n            payload: res.data.data\n        });\n\n        dispatch(setAlert(res.data.message, 'success'));\n\n        dispatch(getComments(postId));\n    } catch (err) {\n        dispatch(setAlert(err.response.data.message, 'danger'));\n\n        dispatch({\n            type: COMMENT_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Delete Comment\nexport const deleteComment = CommentId => async dispatch => {\n    try {\n        const res = await axios.delete(`/api/posts/comments/${CommentId}`);\n\n        dispatch({\n            type: DELETE_COMMENT,\n            payload: CommentId\n        });\n\n        dispatch(setAlert(res.data.message, 'success'));\n    } catch (err) {\n        dispatch(setAlert(err.response.data.message, 'danger'));\n\n        dispatch({\n            type: COMMENT_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};"]},"metadata":{},"sourceType":"module"}